"use strict";const e=require("../common/vendor.js");if(!Array){e.resolveComponent("van-icon")()}const o={__name:"uploader",props:{readonly:{type:Boolean,default:!1},max:{type:Number,default:5},fileList:{type:Array,default:()=>[]}},setup(o){const l=o,a=e.ref(l.fileList);e.watch((()=>l.fileList),(e=>{a.value=e}));const t=()=>{e.index.chooseImage({count:1,success:async o=>{let l=o.tempFilePaths[0];console.log(l);const t=l.split(".").pop(),s=await e.Ls.uploadFile({filePath:l,cloudPath:`meeting_doc_${(new Date).getTime()}.${t}`});console.log(s),a.value.push(s.fileID)}})};return(l,s)=>e.e({a:e.f(o.fileList,((l,t,s)=>e.e({a:e.o((o=>(o=>{console.log(a.value),e.index.previewImage({current:a.value[o],urls:a.value})})(t)),l),b:l},o.readonly?{}:{c:"76fc2d03-0-"+s,d:e.p({name:"cross"}),e:e.o((e=>(e=>{a.value.splice(e,1)})(t)),l)},{f:l}))),b:!o.readonly,c:o.fileList.length<o.max&&!o.readonly},o.fileList.length<o.max&&!o.readonly?{d:e.p({name:"plus",size:"30"}),e:e.o(t)}:{})}},l=e._export_sfc(o,[["__scopeId","data-v-76fc2d03"]]);wx.createComponent(l);
