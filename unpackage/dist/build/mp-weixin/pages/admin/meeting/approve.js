"use strict";const e=require("../../../common/vendor.js"),t=require("../../../contants.js");if(!Array){(e.resolveComponent("van-button")+e.resolveComponent("van-swipe-cell")+e.resolveComponent("van-empty"))()}const a={__name:"approve",setup(a){const o=e.ref(!0),n=e.ref(1),l=e.ref([]);e.onShow((()=>{r(!0)}));const r=async(t=!1)=>{t&&(n.value=1),o.value=!1;const a=await e.Ls.importObject("booking").getList({pageNo:n.value,pageSize:10});t&&(l.value=[]),l.value.length<a.total&&l.value.push(...a.data),o.value=!0,e.index.stopPullDownRefresh(),console.log(a)};return e.onReachBottom((()=>{r()})),e.onPullDownRefresh((()=>{l.value=[],n.value=1,r()})),(a,n)=>e.e({a:l.value.length},l.value.length?{b:e.f(l.value,((a,o,n)=>({a:e.t(a.room_name),b:e.t(a.date),c:e.t(a.start_time),d:e.t(a.end_time),e:e.t(e.unref(t.bookingStatus)[a.status].text),f:e.unref(t.bookingStatus)[a.status].color,g:e.o((t=>{return o=a._id,void e.index.navigateTo({url:`/pages/admin/meeting/approveDetail?id=${o}`});var o}),a._id),h:e.o((t=>(async t=>{await e.Ls.importObject("booking").deleteItem({_id:t}),r(!0)})(a._id)),a._id),i:"2a82a0e0-1-"+n+",2a82a0e0-0-"+n,j:a._id,k:"2a82a0e0-0-"+n}))),c:e.p({square:!0,type:"danger"}),d:e.p({rightWidth:65})}:{},{e:o.value&&!l.value.length},o.value&&!l.value.length?{f:e.p({description:"暂无审批记录"})}:{})}},o=e._export_sfc(a,[["__scopeId","data-v-2a82a0e0"]]);wx.createPage(o);
