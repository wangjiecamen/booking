"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("van-button")+e.resolveComponent("van-swipe-cell")+e.resolveComponent("van-empty"))()}Math||a();const a=()=>"../../../components/AddBtn.js",t={__name:"index",setup(a){const t=e.ref(!0),n=e.ref(1),o=e.ref([]),s=()=>{e.index.navigateTo({url:"/pages/admin/branch/edit"})};e.onShow((()=>{l(!0)}));const l=async(a=!1)=>{a&&(n.value=1),t.value=!1;const s=await e.Ls.importObject("branch").getList({pageNo:n.value,pageSize:10});a&&(o.value=[]),o.value.length<s.total&&o.value.push(...s.data),t.value=!0,e.index.stopPullDownRefresh(),console.log(s)};return e.onReachBottom((()=>{l()})),e.onPullDownRefresh((()=>{l(!0)})),(a,n)=>e.e({a:o.value.length},o.value.length?{b:e.f(o.value,((a,t,n)=>e.e({a:e.t(a.name),b:1===a.status},(a.status,{}),{c:e.o((t=>{return n=a._id,void e.index.navigateTo({url:`/pages/admin/branch/edit?id=${n}`});var n}),a._id),d:e.o((t=>(async a=>{await e.Ls.importObject("branch").deleteItem({_id:a}),l(!0)})(a._id)),a._id),e:"c012e655-1-"+n+",c012e655-0-"+n,f:a._id,g:"c012e655-0-"+n}))),c:e.p({square:!0,type:"danger"}),d:e.p({rightWidth:65})}:{},{e:t.value&&!o.value.length},t.value&&!o.value.length?{f:e.p({description:"暂无部门记录"})}:{},{g:e.o(s)})}},n=e._export_sfc(t,[["__scopeId","data-v-c012e655"]]);wx.createPage(n);
