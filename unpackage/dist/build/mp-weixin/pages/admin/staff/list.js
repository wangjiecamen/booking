"use strict";const e=require("../../../common/vendor.js");if(!Array){(e.resolveComponent("van-button")+e.resolveComponent("van-swipe-cell")+e.resolveComponent("van-empty"))()}Math||a();const a=()=>"../../../components/AddBtn.js",t={__name:"list",setup(a){const t=e.ref(!0),n=e.ref(1),o=e.ref([]);e.onShow((()=>{s(!0)}));const s=async(a=!1)=>{a&&(n.value=1),t.value=!1;const s=await e.Ls.importObject("staff").getList({pageNo:n.value,pageSize:10});a&&(o.value=[]),o.value.length<s.total&&o.value.push(...s.data),t.value=!0,e.index.stopPullDownRefresh(),console.log(s)},l=()=>{e.index.navigateTo({url:"/pages/admin/staff/edit"})};return e.onReachBottom((()=>{s()})),e.onPullDownRefresh((()=>{o.value=[],n.value=1,s()})),(a,n)=>e.e({a:o.value.length},o.value.length?{b:e.f(o.value,((a,t,n)=>e.e({a:e.t(a.username),b:0===a.status},(a.status,{}),{c:e.o((t=>{return n=a._id,void e.index.navigateTo({url:`/pages/admin/staff/edit?id=${n}`});var n}),a._id),d:e.o((t=>(async a=>{await e.Ls.importObject("staff").deleteItem({_id:a}),s(!0)})(a._id)),a._id),e:"d8260b9a-1-"+n+",d8260b9a-0-"+n,f:a._id,g:"d8260b9a-0-"+n}))),c:e.p({square:!0,type:"danger"}),d:e.p({rightWidth:65})}:{},{e:t.value&&!o.value.length},t.value&&!o.value.length?{f:e.p({description:"暂无员工记录"})}:{},{g:e.o(l)})}},n=e._export_sfc(t,[["__scopeId","data-v-d8260b9a"]]);wx.createPage(n);
